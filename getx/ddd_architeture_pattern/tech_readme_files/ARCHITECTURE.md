# DDD Architecture - Counter Notes App

## Architecture Overview

This document provides a detailed architectural overview of the Counter Notes App built with Domain-Driven Design principles.

---

## ğŸ—ï¸ Layer Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRESENTATION LAYER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Views      â”‚  â”‚ Controllers  â”‚  â”‚  Bindings    â”‚      â”‚
â”‚  â”‚  (Widgets)   â”‚  â”‚   (GetX)     â”‚  â”‚     (DI)     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                  â”‚                  â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                  â”‚
          â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   APPLICATION LAYER                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     Use Cases                          â”‚  â”‚
â”‚  â”‚  â€¢ Get Counter         â€¢ Get All Notes                â”‚  â”‚
â”‚  â”‚  â€¢ Increment Counter   â€¢ Add Note                     â”‚  â”‚
â”‚  â”‚  â€¢ Decrement Counter   â€¢ Delete Note                  â”‚  â”‚
â”‚  â”‚  â€¢ Reset Counter       â€¢ Delete All Notes             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DOMAIN LAYER                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Entities   â”‚  â”‚Value Objects â”‚  â”‚ Repositories â”‚      â”‚
â”‚  â”‚  â€¢ Counter   â”‚  â”‚ â€¢ CounterVal â”‚  â”‚  (Interface) â”‚      â”‚
â”‚  â”‚  â€¢ Note      â”‚  â”‚ â€¢ NoteId     â”‚  â”‚              â”‚      â”‚
â”‚  â”‚              â”‚  â”‚ â€¢ Content    â”‚  â”‚              â”‚      â”‚
â”‚  â”‚              â”‚  â”‚ â€¢ Timestamp  â”‚  â”‚              â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                               â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚ implements
                                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  INFRASTRUCTURE LAYER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚     DTOs     â”‚  â”‚ Data Sources â”‚  â”‚   Repo Impl  â”‚      â”‚
â”‚  â”‚  â€¢ CounterDTOâ”‚  â”‚ â€¢ GetStorage â”‚  â”‚  â€¢ CounterR  â”‚      â”‚
â”‚  â”‚  â€¢ NoteDTO   â”‚  â”‚ â€¢ Local DS   â”‚  â”‚  â€¢ NotesR    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   GetStorage     â”‚
                    â”‚  (Key-Value DB)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow

### Read Flow: Get Counter

```
User clicks Counter tab
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CounterView         â”‚  1. User interaction
â”‚  (Presentation)      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CounterController   â”‚  2. Controller calls use case
â”‚  onInit()            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ execute()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GetCounterUseCase   â”‚  3. Use case orchestrates
â”‚  (Application)       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ getCounter()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CounterRepository    â”‚  4. Repository interface (Domain)
â”‚  (Interface)         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ implements
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CounterRepositoryImplâ”‚  5. Infrastructure implementation
â”‚  (Infrastructure)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ getCounter()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚CounterLocalDataSourceâ”‚  6. Data source fetches from storage
â”‚  (Infrastructure)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ read()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    GetStorage        â”‚  7. Storage returns JSON
â”‚  {"id": "x", "val":0}â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    CounterDto        â”‚  8. DTO deserializes JSON
â”‚  fromJson()          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ toEntity()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CounterEntity       â”‚  9. Domain entity returned
â”‚  (Domain)            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Right(entity)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CounterController   â”‚  10. Controller updates state
â”‚  _counter.value = x  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    CounterView       â”‚  11. UI rebuilds (Obx reactive)
â”‚  Displays: 0         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Write Flow: Increment Counter

```
User clicks "+" button
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CounterView         â”‚  1. Button onPressed
â”‚  FloatingActionBtn   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CounterController   â”‚  2. Controller method
â”‚  increment()         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ execute()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚IncrementCounterUse   â”‚  3. Use case gets current counter
â”‚  Case.execute()      â”‚     â†’ applies business rule
â”‚  (Application)       â”‚     â†’ saves updated counter
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ getCounter()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CounterRepository   â”‚  4. Get current counter
â”‚  getCounter()        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Right(counter)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CounterEntity       â”‚  5. DOMAIN BUSINESS RULE
â”‚  counter.increment() â”‚     â†“
â”‚                      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Returns new entity  â”‚  â”‚ CounterValue        â”‚
â”‚  with value+1        â”‚  â”‚ increment()         â”‚
â”‚                      â”‚  â”‚ return value(n+1)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ updatedCounter
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚IncrementCounterUse   â”‚  6. Use case saves updated entity
â”‚  Case                â”‚
â”‚  saveCounter(updated)â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ saveCounter(entity)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚CounterRepositoryImpl â”‚  7. Repository converts to DTO
â”‚  (Infrastructure)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ CounterDto.fromEntity()
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    CounterDto        â”‚  8. DTO serializes to JSON
â”‚  toJson()            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ write(key, json)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚CounterLocalDataSourceâ”‚  9. Save to GetStorage
â”‚  saveCounter(dto)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    GetStorage        â”‚  10. Persist to disk
â”‚  {"id": "x", "val":1}â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Right(unit)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CounterController   â”‚  11. Update reactive state
â”‚  _counter.value =    â”‚
â”‚    updatedCounter    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    CounterView       â”‚  12. UI auto-rebuilds (Obx)
â”‚  Displays: 1         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Component Interactions

### Counter Feature

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COUNTER BOUNDED CONTEXT                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  DOMAIN (Pure Business Logic)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CounterEntity                                         â”‚ â”‚
â”‚  â”‚ â”œâ”€ id: String                                         â”‚ â”‚
â”‚  â”‚ â””â”€ value: CounterValue                               â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Methods:                                              â”‚ â”‚
â”‚  â”‚ â€¢ increment() â†’ CounterEntity                        â”‚ â”‚
â”‚  â”‚ â€¢ decrement() â†’ CounterEntity                        â”‚ â”‚
â”‚  â”‚ â€¢ reset() â†’ CounterEntity                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CounterValue (Value Object)                          â”‚ â”‚
â”‚  â”‚ â”œâ”€ number: int                                        â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Validation:                                           â”‚ â”‚
â”‚  â”‚ â€¢ Cannot be negative                                  â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Business Rules:                                       â”‚ â”‚
â”‚  â”‚ â€¢ increment() â†’ CounterValue(n+1)                    â”‚ â”‚
â”‚  â”‚ â€¢ decrement() â†’ if n==0 return this, else n-1        â”‚ â”‚
â”‚  â”‚ â€¢ reset() â†’ CounterValue(0)                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CounterRepository (Interface)                        â”‚ â”‚
â”‚  â”‚ â€¢ getCounter() â†’ Either<Failure, CounterEntity>      â”‚ â”‚
â”‚  â”‚ â€¢ saveCounter(CounterEntity)                         â”‚ â”‚
â”‚  â”‚ â€¢ exists() â†’ bool                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  APPLICATION (Use Cases)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ GetCounterUseCaseâ”‚  â”‚IncrementCounter  â”‚              â”‚
â”‚  â”‚                  â”‚  â”‚   UseCase        â”‚              â”‚
â”‚  â”‚ execute()        â”‚  â”‚ execute()        â”‚              â”‚
â”‚  â”‚ â†’ get from repo  â”‚  â”‚ â†’ get            â”‚              â”‚
â”‚  â”‚ â†’ return entity  â”‚  â”‚ â†’ entity.incr()  â”‚  + Decrement â”‚
â”‚  â”‚                  â”‚  â”‚ â†’ save           â”‚  + Reset     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  INFRASTRUCTURE (Implementation)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CounterDto                                            â”‚ â”‚
â”‚  â”‚ â€¢ fromEntity(CounterEntity) â†’ CounterDto            â”‚ â”‚
â”‚  â”‚ â€¢ toEntity() â†’ CounterEntity                         â”‚ â”‚
â”‚  â”‚ â€¢ fromJson(Map) â†’ CounterDto                        â”‚ â”‚
â”‚  â”‚ â€¢ toJson() â†’ Map<String, dynamic>                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CounterLocalDataSource                               â”‚ â”‚
â”‚  â”‚ â€¢ getCounter() â†’ CounterDto                         â”‚ â”‚
â”‚  â”‚ â€¢ saveCounter(CounterDto) â†’ void                    â”‚ â”‚
â”‚  â”‚ â€¢ exists() â†’ bool                                   â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Uses: GetStorage                                      â”‚ â”‚
â”‚  â”‚ Key: 'counter'                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CounterRepositoryImpl                                â”‚ â”‚
â”‚  â”‚ implements CounterRepository                         â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Responsibilities:                                     â”‚ â”‚
â”‚  â”‚ â€¢ Convert DTOs â†” Entities                            â”‚ â”‚
â”‚  â”‚ â€¢ Catch exceptions â†’ Failures                        â”‚ â”‚
â”‚  â”‚ â€¢ Return Either<Failure, Entity>                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  PRESENTATION (UI with GetX)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CounterController                                     â”‚ â”‚
â”‚  â”‚ â€¢ _counter: Rx<CounterEntity?>                       â”‚ â”‚
â”‚  â”‚ â€¢ isLoading: RxBool                                  â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Methods:                                              â”‚ â”‚
â”‚  â”‚ â€¢ onInit() â†’ load counter                            â”‚ â”‚
â”‚  â”‚ â€¢ increment() â†’ call IncrementUseCase                â”‚ â”‚
â”‚  â”‚ â€¢ decrement() â†’ call DecrementUseCase                â”‚ â”‚
â”‚  â”‚ â€¢ reset() â†’ call ResetUseCase                        â”‚ â”‚
â”‚  â”‚ â€¢ _handleResult(Either) â†’ fold success/failure       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CounterView                                           â”‚ â”‚
â”‚  â”‚ â€¢ Obx(() => Text(counter.value.number))             â”‚ â”‚
â”‚  â”‚ â€¢ FloatingActionButton(onPressed: controller.incr()) â”‚ â”‚
â”‚  â”‚ â€¢ Decrement/Reset buttons                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CounterBinding                                        â”‚ â”‚
â”‚  â”‚ Dependency Injection:                                â”‚ â”‚
â”‚  â”‚ 1. Get.lazyPut(() => GetStorage())                  â”‚ â”‚
â”‚  â”‚ 2. CounterLocalDataSource(storage)                  â”‚ â”‚
â”‚  â”‚ 3. CounterRepositoryImpl(dataSource)                â”‚ â”‚
â”‚  â”‚ 4. Use cases (pass repository)                      â”‚ â”‚
â”‚  â”‚ 5. CounterController(use cases)                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Notes Feature

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     NOTES BOUNDED CONTEXT                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  DOMAIN                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NoteEntity                                            â”‚ â”‚
â”‚  â”‚ â”œâ”€ id: NoteId                                         â”‚ â”‚
â”‚  â”‚ â”œâ”€ content: NoteContent                              â”‚ â”‚
â”‚  â”‚ â””â”€ createdAt: NoteTimestamp                          â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Factory:                                              â”‚ â”‚
â”‚  â”‚ â€¢ create(id, content) â†’ NoteEntity                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NoteId (Value Object)                                â”‚ â”‚
â”‚  â”‚ â€¢ value: String                                       â”‚ â”‚
â”‚  â”‚ â€¢ Generated with UUID.v4()                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NoteContent (Value Object)                           â”‚ â”‚
â”‚  â”‚ â€¢ text: String                                        â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Validation:                                           â”‚ â”‚
â”‚  â”‚ â€¢ Cannot be empty                                     â”‚ â”‚
â”‚  â”‚ â€¢ Max 500 characters                                  â”‚ â”‚
â”‚  â”‚ â€¢ Trims whitespace                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NoteTimestamp (Value Object)                         â”‚ â”‚
â”‚  â”‚ â€¢ dateTime: DateTime                                  â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Methods:                                              â”‚ â”‚
â”‚  â”‚ â€¢ formatted â†’ "2024-01-15 10:30"                     â”‚ â”‚
â”‚  â”‚ â€¢ relative â†’ "2 minutes ago"                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NotesRepository (Interface)                          â”‚ â”‚
â”‚  â”‚ â€¢ getAllNotes() â†’ Either<Failure, List<NoteEntity>>  â”‚ â”‚
â”‚  â”‚ â€¢ addNote(NoteEntity)                                â”‚ â”‚
â”‚  â”‚ â€¢ deleteNote(NoteId)                                 â”‚ â”‚
â”‚  â”‚ â€¢ deleteAllNotes()                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  APPLICATION                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚GetAllNotesUseâ”‚ â”‚ AddNoteUse   â”‚ â”‚DeleteNoteUse â”‚      â”‚
â”‚  â”‚    Case      â”‚ â”‚    Case      â”‚ â”‚    Case      â”‚      â”‚
â”‚  â”‚              â”‚ â”‚              â”‚ â”‚              â”‚      â”‚
â”‚  â”‚ execute()    â”‚ â”‚ execute(     â”‚ â”‚ execute(id)  â”‚      â”‚
â”‚  â”‚ â†’ get all    â”‚ â”‚   content)   â”‚ â”‚ â†’ delete     â”‚ + DeleteAll
â”‚  â”‚ â†’ return     â”‚ â”‚ â†’ create UUIDâ”‚ â”‚ â†’ return     â”‚
â”‚  â”‚   list       â”‚ â”‚ â†’ create     â”‚ â”‚   unit       â”‚
â”‚  â”‚              â”‚ â”‚   entity     â”‚ â”‚              â”‚
â”‚  â”‚              â”‚ â”‚ â†’ save       â”‚ â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  INFRASTRUCTURE                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NoteDto                                               â”‚ â”‚
â”‚  â”‚ â€¢ id: String                                          â”‚ â”‚
â”‚  â”‚ â€¢ content: String                                     â”‚ â”‚
â”‚  â”‚ â€¢ createdAt: String (ISO 8601)                       â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Conversions:                                          â”‚ â”‚
â”‚  â”‚ â€¢ fromEntity(NoteEntity) â†’ NoteDto                   â”‚ â”‚
â”‚  â”‚ â€¢ toEntity() â†’ NoteEntity                            â”‚ â”‚
â”‚  â”‚ â€¢ fromJson / toJson                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NotesLocalDataSource                                 â”‚ â”‚
â”‚  â”‚ â€¢ getAllNotes() â†’ List<NoteDto>                     â”‚ â”‚
â”‚  â”‚ â€¢ addNote(NoteDto)                                   â”‚ â”‚
â”‚  â”‚ â€¢ deleteNote(String id)                              â”‚ â”‚
â”‚  â”‚ â€¢ deleteAllNotes()                                   â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Storage: GetStorage                                   â”‚ â”‚
â”‚  â”‚ Key: 'notes'                                          â”‚ â”‚
â”‚  â”‚ Format: JSON array                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NotesRepositoryImpl                                  â”‚ â”‚
â”‚  â”‚ implements NotesRepository                           â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Handles:                                              â”‚ â”‚
â”‚  â”‚ â€¢ DTO â†” Entity conversion                            â”‚ â”‚
â”‚  â”‚ â€¢ Exception â†’ Failure mapping                        â”‚ â”‚
â”‚  â”‚ â€¢ Either<Failure, Success> wrapping                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  PRESENTATION                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NotesController                                       â”‚ â”‚
â”‚  â”‚ â€¢ _notes: RxList<NoteEntity>                         â”‚ â”‚
â”‚  â”‚ â€¢ contentController: TextEditingController           â”‚ â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚ Methods:                                              â”‚ â”‚
â”‚  â”‚ â€¢ onInit() â†’ load all notes                          â”‚ â”‚
â”‚  â”‚ â€¢ loadNotes() â†’ call GetAllNotesUseCase              â”‚ â”‚
â”‚  â”‚ â€¢ addNote() â†’ show dialog â†’ call AddNoteUseCase      â”‚ â”‚
â”‚  â”‚ â€¢ deleteNote(id) â†’ call DeleteNoteUseCase            â”‚ â”‚
â”‚  â”‚ â€¢ deleteAllNotes() â†’ call DeleteAllNotesUseCase      â”‚ â”‚
â”‚  â”‚ â€¢ _showAddNoteDialog() â†’ GetX dialog                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NotesView                                             â”‚ â”‚
â”‚  â”‚ â€¢ FAB â†’ controller.addNote()                         â”‚ â”‚
â”‚  â”‚ â€¢ Obx(() => ListView.builder(...))                   â”‚ â”‚
â”‚  â”‚ â€¢ Card per note:                                     â”‚ â”‚
â”‚  â”‚   - Title: note.content.text                         â”‚ â”‚
â”‚  â”‚   - Subtitle: note.createdAt.relative                â”‚ â”‚
â”‚  â”‚   - Delete button                                    â”‚ â”‚
â”‚  â”‚ â€¢ Delete All button                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NotesBinding                                          â”‚ â”‚
â”‚  â”‚ Wires dependencies:                                   â”‚ â”‚
â”‚  â”‚ GetStorage â†’ DataSource â†’ Repository â†’ UseCases â†’    â”‚ â”‚
â”‚  â”‚ Controller                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— Dependency Graph

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    main.dart â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ GetMaterialApp
       â”‚ getPages: AppPages.routes
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    AppPages      â”‚  Route configuration
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â–º HomeView (/)
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â–º CounterView (/counter)
       â”‚         â””â”€ binding: CounterBinding
       â”‚
       â””â”€â”€â”€â”€â”€â”€â–º NotesView (/notes)
                 â””â”€ binding: NotesBinding


COUNTER DEPENDENCY CHAIN:

CounterBinding (DI Setup)
    â”‚
    â”œâ”€â”€â–º GetStorage
    â”‚     â””â”€ Used by â†“
    â”‚
    â”œâ”€â”€â–º CounterLocalDataSource(storage)
    â”‚     â””â”€ Used by â†“
    â”‚
    â”œâ”€â”€â–º CounterRepositoryImpl(dataSource)
    â”‚     â””â”€ Implements CounterRepository
    â”‚     â””â”€ Used by â†“
    â”‚
    â”œâ”€â”€â–º GetCounterUseCase(repository)
    â”œâ”€â”€â–º IncrementCounterUseCase(repository)
    â”œâ”€â”€â–º DecrementCounterUseCase(repository)
    â”œâ”€â”€â–º ResetCounterUseCase(repository)
    â”‚     â””â”€ Used by â†“
    â”‚
    â””â”€â”€â–º CounterController(
            getCounterUseCase,
            incrementCounterUseCase,
            decrementCounterUseCase,
            resetCounterUseCase
         )


NOTES DEPENDENCY CHAIN:

NotesBinding (DI Setup)
    â”‚
    â”œâ”€â”€â–º GetStorage
    â”‚     â””â”€ Used by â†“
    â”‚
    â”œâ”€â”€â–º NotesLocalDataSource(storage)
    â”‚     â””â”€ Used by â†“
    â”‚
    â”œâ”€â”€â–º NotesRepositoryImpl(dataSource)
    â”‚     â””â”€ Implements NotesRepository
    â”‚     â””â”€ Used by â†“
    â”‚
    â”œâ”€â”€â–º GetAllNotesUseCase(repository)
    â”œâ”€â”€â–º AddNoteUseCase(repository, uuid)
    â”œâ”€â”€â–º DeleteNoteUseCase(repository)
    â”œâ”€â”€â–º DeleteAllNotesUseCase(repository)
    â”‚     â””â”€ Used by â†“
    â”‚
    â””â”€â”€â–º NotesController(
            getAllNotesUseCase,
            addNoteUseCase,
            deleteNoteUseCase,
            deleteAllNotesUseCase
         )
```

---

## ğŸ¯ Key Architectural Decisions

### 1. Pure Domain Layer

**Decision**: Domain layer has ZERO Flutter dependencies

**Rationale**:
- Business logic can be tested without Flutter SDK
- Domain models can be reused in other platforms (server, CLI)
- Enforces separation of concerns

**Implementation**:
```dart
// âœ… domain/counter/entities/counter_entity.dart
import 'package:equatable/equatable.dart';  // OK: utility library
import '../value_objects/counter_value.dart';  // OK: domain import

// âŒ NO Flutter imports:
// import 'package:flutter/material.dart';  // FORBIDDEN
```

### 2. Value Objects for Validation

**Decision**: All validation logic in value objects

**Rationale**:
- Single source of truth for validation
- Cannot create invalid domain objects
- Clear domain boundaries

**Example**:
```dart
// Validation in value object constructor
factory NoteContent(String content) {
  if (content.isEmpty) {
    throw ArgumentError('Note content cannot be empty');
  }
  if (content.length > 500) {
    throw ArgumentError('Note content cannot exceed 500 characters');
  }
  return NoteContent._(content.trim());
}

// Presentation layer CANNOT create invalid content
try {
  final content = NoteContent('');  // Throws immediately
} catch (e) {
  // Handle validation error
}
```

### 3. Either<Failure, Success> Pattern

**Decision**: Use `Either` from Dartz for error handling

**Rationale**:
- Makes error handling explicit
- Type-safe (cannot ignore errors)
- Functional programming style

**Usage**:
```dart
// Use case returns Either
Future<Either<Failure, CounterEntity>> execute() async {
  final result = await repository.getCounter();
  return result.fold(
    (failure) => Left(failure),  // Explicit error path
    (counter) => Right(counter.increment()),  // Success path
  );
}

// Controller handles both cases
final result = await useCase.execute();
result.fold(
  (failure) => _showError(failure.message),  // MUST handle error
  (counter) => _counter.value = counter,     // MUST handle success
);
```

### 4. Immutability Throughout

**Decision**: All domain objects are immutable

**Rationale**:
- Thread-safe
- Predictable state changes
- Time-travel debugging possible

**Implementation**:
```dart
class CounterEntity extends Equatable {
  final String id;
  final CounterValue value;

  const CounterEntity({  // const constructor
    required this.id,
    required this.value,
  });

  // Returns NEW instance, doesn't modify
  CounterEntity increment() {
    return CounterEntity(
      id: id,
      value: value.increment(),
    );
  }
}
```

### 5. Repository Interfaces in Domain

**Decision**: Abstract repository in domain, implementation in infrastructure

**Rationale**:
- Dependency inversion (domain doesn't depend on infrastructure)
- Easy to swap implementations (GetStorage â†’ Firebase)
- Testable (mock repositories)

**Structure**:
```
domain/counter/repositories/
  counter_repository.dart          â† Interface

infrastructure/counter/repositories/
  counter_repository_impl.dart     â† Implementation
```

### 6. Use Cases for Each Operation

**Decision**: One use case per user action

**Rationale**:
- Single Responsibility Principle
- Clear application workflows
- Easy to test independently

**Example**:
```
application/counter/usecases/
  â”œâ”€ get_counter_usecase.dart      â† One file per use case
  â”œâ”€ increment_counter_usecase.dart
  â”œâ”€ decrement_counter_usecase.dart
  â””â”€ reset_counter_usecase.dart
```

### 7. GetX for State Management

**Decision**: Use GetX reactive programming with Obx

**Rationale**:
- Minimal boilerplate
- Built-in dependency injection
- Reactive UI updates

**Pattern**:
```dart
// Controller: Reactive state
class CounterController extends GetxController {
  final _counter = Rx<CounterEntity?>(null);  // Observable
  CounterEntity? get counter => _counter.value;
}

// View: Reactive UI
Obx(() {
  final counter = controller.counter;
  if (counter == null) return CircularProgressIndicator();
  return Text('${counter.value.number}');  // Auto-rebuilds
})
```

### 8. DTOs for Serialization

**Decision**: Separate DTOs in infrastructure layer

**Rationale**:
- Domain entities don't know about JSON
- Can change serialization format without touching domain
- Clear boundary between domain and persistence

**Pattern**:
```dart
// Domain entity (no JSON)
class CounterEntity {
  final String id;
  final CounterValue value;
}

// Infrastructure DTO (handles JSON)
class CounterDto {
  final String id;
  final int value;

  Map<String, dynamic> toJson() => {'id': id, 'value': value};
  factory CounterDto.fromJson(Map<String, dynamic> json) { ... }
  
  // Conversion methods
  CounterEntity toEntity() { ... }
  factory CounterDto.fromEntity(CounterEntity entity) { ... }
}
```

---

## ğŸ“Š Testing Strategy

### Unit Tests (Domain Layer)

Test business logic in isolation:

```dart
test('CounterValue should not allow negative numbers', () {
  expect(
    () => CounterValue(-1),
    throwsArgumentError,
  );
});

test('Counter decrement should not go below zero', () {
  final value = CounterValue(0);
  final result = value.decrement();
  expect(result.number, 0);  // Stays at zero
});

test('NoteContent should trim whitespace', () {
  final content = NoteContent('  test  ');
  expect(content.text, 'test');
});
```

### Integration Tests (Use Cases)

Test application workflows:

```dart
test('IncrementCounterUseCase should increment counter', () async {
  // Arrange
  final mockRepo = MockCounterRepository();
  final useCase = IncrementCounterUseCase(mockRepo);
  
  // Act
  final result = await useCase.execute();
  
  // Assert
  expect(result.isRight(), true);
});
```

### Widget Tests (Presentation)

Test UI components:

```dart
testWidgets('CounterView shows counter value', (tester) async {
  await tester.pumpWidget(MyApp());
  
  expect(find.text('0'), findsOneWidget);
  
  await tester.tap(find.byIcon(Icons.add));
  await tester.pump();
  
  expect(find.text('1'), findsOneWidget);
});
```

---

## ğŸ”„ State Management Flow

```
User Action
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UI (View)     â”‚  Button onPressed
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Controller    â”‚  Calls use case
â”‚  increment()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ execute()
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Use Case      â”‚  Orchestrates workflow
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Repository    â”‚  Fetches/saves data
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Entity        â”‚  Business logic applied
â”‚  increment()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Repository    â”‚  Persists changes
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Right(updatedEntity)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Controller    â”‚  Updates reactive state
â”‚  _counter.valueâ”‚  = updatedEntity
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Obx Widget    â”‚  Automatically rebuilds
â”‚  Displays: 1   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ Technology Stack

| Layer | Technology | Purpose |
|-------|-----------|---------|
| **Presentation** | GetX | State management, routing, DI |
| **Presentation** | Flutter | UI framework |
| **Application** | Dartz | Functional programming (Either) |
| **Domain** | Equatable | Value equality |
| **Domain** | UUID | Generate unique IDs |
| **Infrastructure** | GetStorage | Local key-value storage |

---

## ğŸ“ Project Structure

```
lib/
â”œâ”€â”€ main.dart                               # Entry point
â”‚
â”œâ”€â”€ domain/                                 # Pure business logic (NO Flutter)
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ failures.dart                   # Domain error types
â”‚   â”œâ”€â”€ counter/
â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â””â”€â”€ counter_entity.dart
â”‚   â”‚   â”œâ”€â”€ value_objects/
â”‚   â”‚   â”‚   â””â”€â”€ counter_value.dart
â”‚   â”‚   â””â”€â”€ repositories/
â”‚   â”‚       â””â”€â”€ counter_repository.dart     # Interface
â”‚   â””â”€â”€ notes/
â”‚       â”œâ”€â”€ entities/
â”‚       â”‚   â””â”€â”€ note_entity.dart
â”‚       â”œâ”€â”€ value_objects/
â”‚       â”‚   â”œâ”€â”€ note_id.dart
â”‚       â”‚   â”œâ”€â”€ note_content.dart
â”‚       â”‚   â””â”€â”€ note_timestamp.dart
â”‚       â””â”€â”€ repositories/
â”‚           â””â”€â”€ notes_repository.dart       # Interface
â”‚
â”œâ”€â”€ application/                            # Use cases
â”‚   â”œâ”€â”€ counter/
â”‚   â”‚   â””â”€â”€ usecases/
â”‚   â”‚       â”œâ”€â”€ get_counter_usecase.dart
â”‚   â”‚       â”œâ”€â”€ increment_counter_usecase.dart
â”‚   â”‚       â”œâ”€â”€ decrement_counter_usecase.dart
â”‚   â”‚       â””â”€â”€ reset_counter_usecase.dart
â”‚   â””â”€â”€ notes/
â”‚       â””â”€â”€ usecases/
â”‚           â”œâ”€â”€ get_all_notes_usecase.dart
â”‚           â”œâ”€â”€ add_note_usecase.dart
â”‚           â”œâ”€â”€ delete_note_usecase.dart
â”‚           â””â”€â”€ delete_all_notes_usecase.dart
â”‚
â”œâ”€â”€ infrastructure/                         # Implementation details
â”‚   â”œâ”€â”€ counter/
â”‚   â”‚   â”œâ”€â”€ datasources/
â”‚   â”‚   â”‚   â””â”€â”€ counter_local_datasource.dart
â”‚   â”‚   â”œâ”€â”€ dtos/
â”‚   â”‚   â”‚   â””â”€â”€ counter_dto.dart
â”‚   â”‚   â””â”€â”€ repositories/
â”‚   â”‚       â””â”€â”€ counter_repository_impl.dart # Implements interface
â”‚   â””â”€â”€ notes/
â”‚       â”œâ”€â”€ datasources/
â”‚       â”‚   â””â”€â”€ notes_local_datasource.dart
â”‚       â”œâ”€â”€ dtos/
â”‚       â”‚   â””â”€â”€ note_dto.dart
â”‚       â””â”€â”€ repositories/
â”‚           â””â”€â”€ notes_repository_impl.dart   # Implements interface
â”‚
â””â”€â”€ presentation/                           # UI layer (Flutter + GetX)
    â”œâ”€â”€ core/
    â”‚   â”œâ”€â”€ routes/
    â”‚   â”‚   â”œâ”€â”€ app_routes.dart             # Route constants
    â”‚   â”‚   â””â”€â”€ app_pages.dart              # Route config
    â”‚   â””â”€â”€ views/
    â”‚       â””â”€â”€ home_view.dart              # Landing page
    â”œâ”€â”€ counter/
    â”‚   â”œâ”€â”€ bindings/
    â”‚   â”‚   â””â”€â”€ counter_binding.dart        # DI setup
    â”‚   â”œâ”€â”€ controllers/
    â”‚   â”‚   â””â”€â”€ counter_controller.dart     # State management
    â”‚   â””â”€â”€ views/
    â”‚       â””â”€â”€ counter_view.dart           # UI
    â””â”€â”€ notes/
        â”œâ”€â”€ bindings/
        â”‚   â””â”€â”€ notes_binding.dart
        â”œâ”€â”€ controllers/
        â”‚   â””â”€â”€ notes_controller.dart
        â””â”€â”€ views/
            â””â”€â”€ notes_view.dart
```

---

## ğŸš€ Running the Application

### Development Mode

```powershell
cd ddd_architeture_pattern
flutter run
```

### Build for Production

```powershell
# Android
flutter build apk

# iOS
flutter build ios

# Web
flutter build web

# Desktop
flutter build windows
flutter build macos
flutter build linux
```

---

## ğŸ“š Learning Path

1. **Start with Domain**: Understand entities and value objects
2. **Study Use Cases**: See how workflows are orchestrated
3. **Explore Infrastructure**: Learn DTO pattern and repository implementation
4. **Examine Presentation**: See GetX state management in action
5. **Trace Data Flow**: Follow a complete request from UI â†’ Domain â†’ Storage â†’ UI

---

## ğŸ“ Key Takeaways

1. **Domain is King**: All other layers depend on domain, not vice versa
2. **Value Objects**: Encapsulate validation and domain rules
3. **Immutability**: Everything returns new instances
4. **Either Pattern**: Explicit error handling
5. **Separation**: Each layer has clear responsibility
6. **Testability**: Pure domain logic easily tested
7. **Flexibility**: Easy to swap infrastructure (GetStorage â†’ Firebase)

---

**This architecture ensures maintainable, testable, and scalable Flutter applications with clear business logic separation.**
